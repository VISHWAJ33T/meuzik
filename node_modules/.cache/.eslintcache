[{"V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\index.js":"1","V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\App.js":"2","V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\Body.js":"3","V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\Navbar.js":"4","V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\SearchEngine.js":"5","V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\MediaPlayer.js":"6","V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\Spinner.js":"7","V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\NoResults.js":"8","V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\Search.js":"9"},{"size":257,"mtime":1688734214059,"results":"10","hashOfConfig":"11"},{"size":374,"mtime":1688913310396,"results":"12","hashOfConfig":"11"},{"size":2881,"mtime":1688940965475,"results":"13","hashOfConfig":"11"},{"size":1311,"mtime":1688936455389,"results":"14","hashOfConfig":"11"},{"size":2111,"mtime":1688939308367,"results":"15","hashOfConfig":"11"},{"size":1741,"mtime":1688915609960,"results":"16","hashOfConfig":"11"},{"size":267,"mtime":1688828985732,"results":"17","hashOfConfig":"11"},{"size":275,"mtime":1688906332163,"results":"18","hashOfConfig":"11"},{"size":955,"mtime":1688906967869,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"6d2uew",{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\index.js",[],[],"V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\App.js",[],[],"V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\Body.js",[],[],"V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\Navbar.js",[],[],"V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\SearchEngine.js",[],[],"V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\MediaPlayer.js",["48"],[],"import React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function MediaPlayer() {\n  const { title, img, musicid } = useParams();\n  const [audioSrc, setAudioSrc] = useState(\n    `https://musicapi.x007.workers.dev/fetch?id=${musicid}`\n  );\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioRef = useRef();\n\n  useEffect(() => {\n    setAudioSrc(`https://musicapi.x007.workers.dev/fetch?id=${musicid}`);\n  }, [musicid]);\n\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.src = audioSrc;\n      audioRef.current.load();\n\n      // Event listener to check when audio is loaded\n      audioRef.current.addEventListener(\"canplaythrough\", () => {\n        setIsLoaded(true);\n      });\n    }\n  }, [audioSrc]);\n\n  useEffect(() => {\n    if (isLoaded) {\n      if (isPlaying) {\n        audioRef.current.play();\n      } else {\n        audioRef.current.pause();\n      }\n    }\n  }, [isLoaded, isPlaying]);\n\n  const handleSongEnd = () => {\n    if (audioRef.current.duration === audioRef.current.currentTime) {\n      audioRef.current.currentTime = 0; // Reset playback to the beginning\n      audioRef.current.play(); // Start playing again\n    }\n  };\n\n  return (\n    <>\n      <div className=\"mediaplayer\">\n        <div className=\"playerImg\">\n          <img src={`https://hls-server.vercel.app/img/${img}`} alt=\"\" />\n          <h2>{title}</h2>\n        </div>\n        <audio\n          controls\n          ref={audioRef}\n          preload=\"none\" // Disable initial preload\n          onEnded={handleSongEnd}\n        >\n          <source src={audioSrc} type=\"audio/mp3\" />\n        </audio>\n      </div>\n    </>\n  );\n}\n","V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\Spinner.js",[],[],"V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\NoResults.js",[],[],"V:\\Vishwajeet\\Desktop\\Web Dev\\All codes\\Practice\\website 4\\meuzik\\src\\Components\\Search.js",[],[],{"ruleId":"49","severity":1,"message":"50","line":10,"column":21,"nodeType":"51","messageId":"52","endLine":10,"endColumn":33},"no-unused-vars","'setIsPlaying' is assigned a value but never used.","Identifier","unusedVar"]