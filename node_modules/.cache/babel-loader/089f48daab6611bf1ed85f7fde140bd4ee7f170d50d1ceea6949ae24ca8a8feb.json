{"ast":null,"code":"import _regeneratorRuntime from\"V:/Vishwajeet/Desktop/Web Dev/All codes/Practice/website 4/musonic/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"V:/Vishwajeet/Desktop/Web Dev/All codes/Practice/website 4/musonic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"V:/Vishwajeet/Desktop/Web Dev/All codes/Practice/website 4/musonic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{BrowserRouter,Route,Routes}from\"react-router-dom\";import MediaPlayer from\"./MediaPlayer\";import Spinner from\"./Spinner\";import NoResults from\"./NoResults\";import LoadingBar from\"react-top-loading-bar\";// import NotFound from \"./NotFound\";\nimport Search from\"./Search\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Body(_ref){var searchEngine=_ref.searchEngine,title=_ref.title;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),progress=_useState2[0],setProgress=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),articles=_useState4[0],setArticles=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var searchURL=\"http://localhost:8000/search?searchEngine=\".concat(searchEngine,\"&q=\").concat(title);var updateSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(searchURL);case 2:data=_context.sent;setLoading(true);setProgress(10);_context.next=7;return data.json();case 7:parsedData=_context.sent;console.log(parsedData);setProgress(40);setArticles(parsedData.response);console.log(articles);setProgress(80);setLoading(false);setProgress(100);case 15:case\"end\":return _context.stop();}},_callee);}));return function updateSearch(){return _ref2.apply(this,arguments);};}();useEffect(function(){// window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\nconsole.log(articles);updateSearch();},[searchEngine,title,articles]);return/*#__PURE__*/_jsx(\"div\",{className:\"body\",children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoadingBar,{color:\"white\",progress:progress,height:1}),loading&&/*#__PURE__*/_jsx(Spinner,{})||articles&&articles.length===0&&/*#__PURE__*/_jsx(NoResults,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchEngines\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"searchEngineName\",children:\"MTMusic\"}),/*#__PURE__*/_jsx(\"div\",{className:\"musicItems\",children:articles&&articles.map(function(element,id,result){return/*#__PURE__*/_jsx(Search,{id:id,articles:articles},id);},80)})]}),/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/play/:id/:musicid\",exact:true,element:/*#__PURE__*/_jsx(MediaPlayer,{articles:articles})})})]})})});}","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Route","Routes","MediaPlayer","Spinner","NoResults","LoadingBar","Search","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Body","_ref","searchEngine","title","_useState","_useState2","_slicedToArray","progress","setProgress","_useState3","_useState4","articles","setArticles","_useState5","_useState6","loading","setLoading","searchURL","concat","updateSearch","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","parsedData","wrap","_callee$","_context","prev","next","fetch","sent","json","console","log","response","stop","apply","arguments","className","children","color","height","length","map","element","id","result","path","exact"],"sources":["V:/Vishwajeet/Desktop/Web Dev/All codes/Practice/website 4/musonic/src/Components/Body.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport MediaPlayer from \"./MediaPlayer\";\nimport Spinner from \"./Spinner\";\nimport NoResults from \"./NoResults\";\nimport LoadingBar from \"react-top-loading-bar\";\n// import NotFound from \"./NotFound\";\nimport Search from \"./Search\";\nexport default function Body({ searchEngine, title }) {\n  const [progress, setProgress] = useState(0);\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  let searchURL = `http://localhost:8000/search?searchEngine=${searchEngine}&q=${title}`;\n  const updateSearch = async () => {\n    const data = await fetch(searchURL);\n    setLoading(true);\n    setProgress(10);\n    let parsedData = await data.json();\n    console.log(parsedData);\n    setProgress(40);\n    setArticles(parsedData.response);\n    console.log(articles);\n    setProgress(80);\n    setLoading(false);\n    setProgress(100);\n  };\n  useEffect(() => {\n    // window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\n    console.log(articles);\n    updateSearch();\n  }, [searchEngine, title, articles]);\n\n  return (\n    <div className=\"body\">\n      <BrowserRouter>\n        <>\n          <LoadingBar color=\"white\" progress={progress} height={1} />\n          {(loading && <Spinner />) ||\n          (articles && articles.length === 0 && <NoResults />)}\n          <div className=\"searchEngines\">\n            <h3 className=\"searchEngineName\">MTMusic</h3>\n            <div className=\"musicItems\">\n              {articles &&\n                articles.map((element, id, result) => {\n                  return <Search key={id} id={id} articles={articles} />;\n                }, 80)}\n            </div>\n          </div>\n          <Routes>\n            <Route\n              path={`/play/:id/:musicid`}\n              exact\n              element={<MediaPlayer articles={articles} />}\n            />\n          </Routes>\n        </>\n      </BrowserRouter>\n    </div>\n  );\n}\n"],"mappings":"wdAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,CAAEC,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,UAAU,KAAM,uBAAuB,CAC9C;AACA,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAC9B,cAAe,SAAS,CAAAC,IAAIA,CAAAC,IAAA,CAA0B,IAAvB,CAAAC,YAAY,CAAAD,IAAA,CAAZC,YAAY,CAAEC,KAAK,CAAAF,IAAA,CAALE,KAAK,CAChD,IAAAC,SAAA,CAAgCpB,QAAQ,CAAC,CAAC,CAAC,CAAAqB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAgCzB,QAAQ,CAAC,EAAE,CAAC,CAAA0B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA8B7B,QAAQ,CAAC,IAAI,CAAC,CAAA8B,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAArCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B,GAAI,CAAAG,SAAS,8CAAAC,MAAA,CAAgDhB,YAAY,QAAAgB,MAAA,CAAMf,KAAK,CAAE,CACtF,GAAM,CAAAgB,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,IAAA,CAAAC,UAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACA,CAAAC,KAAK,CAACf,SAAS,CAAC,QAA7BQ,IAAI,CAAAI,QAAA,CAAAI,IAAA,CACVjB,UAAU,CAAC,IAAI,CAAC,CAChBR,WAAW,CAAC,EAAE,CAAC,CAACqB,QAAA,CAAAE,IAAA,SACO,CAAAN,IAAI,CAACS,IAAI,CAAC,CAAC,QAA9BR,UAAU,CAAAG,QAAA,CAAAI,IAAA,CACdE,OAAO,CAACC,GAAG,CAACV,UAAU,CAAC,CACvBlB,WAAW,CAAC,EAAE,CAAC,CACfI,WAAW,CAACc,UAAU,CAACW,QAAQ,CAAC,CAChCF,OAAO,CAACC,GAAG,CAACzB,QAAQ,CAAC,CACrBH,WAAW,CAAC,EAAE,CAAC,CACfQ,UAAU,CAAC,KAAK,CAAC,CACjBR,WAAW,CAAC,GAAG,CAAC,CAAC,yBAAAqB,QAAA,CAAAS,IAAA,MAAAd,OAAA,GAClB,kBAZK,CAAAL,YAAYA,CAAA,SAAAC,KAAA,CAAAmB,KAAA,MAAAC,SAAA,OAYjB,CACDvD,SAAS,CAAC,UAAM,CACd;AACAkD,OAAO,CAACC,GAAG,CAACzB,QAAQ,CAAC,CACrBQ,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACjB,YAAY,CAAEC,KAAK,CAAEQ,QAAQ,CAAC,CAAC,CAEnC,mBACEhB,IAAA,QAAK8C,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB/C,IAAA,CAACT,aAAa,EAAAwD,QAAA,cACZ7C,KAAA,CAAAE,SAAA,EAAA2C,QAAA,eACE/C,IAAA,CAACH,UAAU,EAACmD,KAAK,CAAC,OAAO,CAACpC,QAAQ,CAAEA,QAAS,CAACqC,MAAM,CAAE,CAAE,CAAE,CAAC,CACzD7B,OAAO,eAAIpB,IAAA,CAACL,OAAO,GAAE,CAAC,EACvBqB,QAAQ,EAAIA,QAAQ,CAACkC,MAAM,GAAK,CAAC,eAAIlD,IAAA,CAACJ,SAAS,GAAE,CAAE,cACpDM,KAAA,QAAK4C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B/C,IAAA,OAAI8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cAC7C/C,IAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB/B,QAAQ,EACPA,QAAQ,CAACmC,GAAG,CAAC,SAACC,OAAO,CAAEC,EAAE,CAAEC,MAAM,CAAK,CACpC,mBAAOtD,IAAA,CAACF,MAAM,EAAUuD,EAAE,CAAEA,EAAG,CAACrC,QAAQ,CAAEA,QAAS,EAA/BqC,EAAiC,CAAC,CACxD,CAAC,CAAE,EAAE,CAAC,CACL,CAAC,EACH,CAAC,cACNrD,IAAA,CAACP,MAAM,EAAAsD,QAAA,cACL/C,IAAA,CAACR,KAAK,EACJ+D,IAAI,qBAAuB,CAC3BC,KAAK,MACLJ,OAAO,cAAEpD,IAAA,CAACN,WAAW,EAACsB,QAAQ,CAAEA,QAAS,CAAE,CAAE,CAC9C,CAAC,CACI,CAAC,EACT,CAAC,CACU,CAAC,CACb,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}