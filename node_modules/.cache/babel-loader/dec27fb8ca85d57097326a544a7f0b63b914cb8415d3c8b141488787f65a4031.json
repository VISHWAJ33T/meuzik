{"ast":null,"code":"import _slicedToArray from\"V:/Vishwajeet/Desktop/Web Dev/All codes/Practice/website 4/musonic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MediaPlayer(){var _useParams=useParams(),title=_useParams.title,img=_useParams.img,musicid=_useParams.musicid;var _useState=useState(\"https://musicapi.x007.workers.dev/fetch?id=\".concat(musicid)),_useState2=_slicedToArray(_useState,2),audioSrc=_useState2[0],setAudioSrc=_useState2[1];var audioRef=useRef();useEffect(function(){setAudioSrc(\"https://musicapi.x007.workers.dev/fetch?id=\".concat(musicid));},[musicid]);useEffect(function(){if(audioRef.current){audioRef.current.src=audioSrc;audioRef.current.load();// audioRef.current.play(); // Autoplay when the src is updated\n}},[audioSrc]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mediaplayer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"playerImg\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://hls-server.vercel.app/img/\".concat(img),alt:\"\"}),/*#__PURE__*/_jsx(\"h2\",{children:title})]}),/*#__PURE__*/_jsx(\"audio\",{controls:true,autoPlay:true,ref:audioRef,children:/*#__PURE__*/_jsx(\"source\",{src:audioSrc,type:\"audio/mp3\"})})]})});}","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MediaPlayer","_useParams","title","img","musicid","_useState","concat","_useState2","_slicedToArray","audioSrc","setAudioSrc","audioRef","current","src","load","children","className","alt","controls","autoPlay","ref","type"],"sources":["V:/Vishwajeet/Desktop/Web Dev/All codes/Practice/website 4/musonic/src/Components/MediaPlayer.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function MediaPlayer() {\n  const { title, img, musicid } = useParams();\n  const [audioSrc, setAudioSrc] = useState(\n    `https://musicapi.x007.workers.dev/fetch?id=${musicid}`\n  );\n  const audioRef = useRef();\n\n  useEffect(() => {\n    setAudioSrc(`https://musicapi.x007.workers.dev/fetch?id=${musicid}`);\n  }, [musicid]);\n\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.src = audioSrc;\n      audioRef.current.load();\n      // audioRef.current.play(); // Autoplay when the src is updated\n    }\n  }, [audioSrc]);\n\n  return (\n    <>\n      <div className=\"mediaplayer\">\n        <div className=\"playerImg\">\n          <img src={`https://hls-server.vercel.app/img/${img}`} alt=\"\" />\n          <h2>{title}</h2>\n        </div>\n        <audio controls autoPlay ref={audioRef}>\n          <source src={audioSrc} type=\"audio/mp3\" />\n        </audio>\n      </div>\n    </>\n  );\n}\n"],"mappings":"wJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7C,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,CACpC,IAAAC,UAAA,CAAgCR,SAAS,CAAC,CAAC,CAAnCS,KAAK,CAAAD,UAAA,CAALC,KAAK,CAAEC,GAAG,CAAAF,UAAA,CAAHE,GAAG,CAAEC,OAAO,CAAAH,UAAA,CAAPG,OAAO,CAC3B,IAAAC,SAAA,CAAgCb,QAAQ,+CAAAc,MAAA,CACQF,OAAO,CACvD,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAFMI,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAG5B,GAAM,CAAAI,QAAQ,CAAGpB,MAAM,CAAC,CAAC,CAEzBD,SAAS,CAAC,UAAM,CACdoB,WAAW,+CAAAJ,MAAA,CAA+CF,OAAO,CAAE,CAAC,CACtE,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CAEbd,SAAS,CAAC,UAAM,CACd,GAAIqB,QAAQ,CAACC,OAAO,CAAE,CACpBD,QAAQ,CAACC,OAAO,CAACC,GAAG,CAAGJ,QAAQ,CAC/BE,QAAQ,CAACC,OAAO,CAACE,IAAI,CAAC,CAAC,CACvB;AACF,CACF,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CAEd,mBACEd,IAAA,CAAAI,SAAA,EAAAgB,QAAA,cACElB,KAAA,QAAKmB,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC1BlB,KAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBpB,IAAA,QAAKkB,GAAG,sCAAAP,MAAA,CAAuCH,GAAG,CAAG,CAACc,GAAG,CAAC,EAAE,CAAE,CAAC,cAC/DtB,IAAA,OAAAoB,QAAA,CAAKb,KAAK,CAAK,CAAC,EACb,CAAC,cACNP,IAAA,UAAOuB,QAAQ,MAACC,QAAQ,MAACC,GAAG,CAAET,QAAS,CAAAI,QAAA,cACrCpB,IAAA,WAAQkB,GAAG,CAAEJ,QAAS,CAACY,IAAI,CAAC,WAAW,CAAE,CAAC,CACrC,CAAC,EACL,CAAC,CACN,CAAC,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}